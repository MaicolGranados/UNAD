@model FUNSAR.Models.ViewModels.VoluntarioVM
@using FUNSAR.HerramientasComunes
@{
    ViewData["Title"] = "Registro de Participantes";
}
@try
{
    @if (Model.valida == "Acudiente")
    {
        <br />
        <br />
        <h3 class="text-center">Datos Acudiente</h3>
        <a asp-action="RegistroParticipante" class="btn btn-success form-control" asp-route-id="@Model.Colegio.Id">Soy Mayor de Edad</a>
        <form method="post" asp-action="CreateA" enctype="multipart/form-data">
            <div class="row px-2 offset-1 border">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <p>@ViewBag.msg</p>
                <div class="col-10 offset-1 mt-4">
                    <div class="form-group row">
                        <div class="col-6">
                            <label class="col-4">
                                <label asp-for="Acudiente.nombre"></label>
                            </label>
                        </div>
                        <div class="col-6">
                            <input asp-for="Acudiente.nombre" class="form-control" placeholder="Ingresa el nombre" />
                            <span asp-validation-for="Acudiente.nombre" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row mt-4">
                        <div class="col-6">
                            <label class="col-4">
                                <label asp-for="Acudiente.apellido"></label>
                            </label>
                        </div>
                        <div class="col-6">
                            <input asp-for="Acudiente.apellido" class="form-control" placeholder="Ingresa el apellido" />
                            <span asp-validation-for="Acudiente.apellido" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row mt-4">
                        <div class="col-6">
                            <label class="col-4">
                                <label for="TDocumento">Tipo Documento</label>
                            </label>
                        </div>
                        <div class="col-6">
                            @Html.DropDownListFor(m => m.Acudiente.DocumentoId, Model.ListaTipoDocumento, "-Tipo Documento-",
                    new {@class = "form-control"})
                        </div>
                    </div>

                    <div class="form-group row mt-4">
                        <div class="col-6">
                            <label class="col-4">
                                <label asp-for="Acudiente.Documento"></label>
                            </label>
                        </div>
                        <div class="col-6">
                            <input asp-for="Acudiente.Documento" class="form-control" placeholder="Ingresa el documento" />
                            <span asp-validation-for="Acudiente.Documento" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row mt-4">
                        <div class="col-6">
                            <label class="col-4">
                                <label asp-for="Acudiente.telefono"></label>
                            </label>
                        </div>
                        <div class="col-6">
                            <input asp-for="Acudiente.telefono" class="form-control" placeholder="Ingresa el numero de contacto" />
                            <span asp-validation-for="Acudiente.telefono" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row mt-4">
                        <div class="col-6">
                            <label class="col-4">
                                <label asp-for="Acudiente.correo"></label>
                            </label>
                        </div>
                        <div class="col-6">
                            <input asp-for="Acudiente.correo" class="form-control" placeholder="Ingresa el correo" />
                            <span asp-validation-for="Acudiente.correo" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="form-group row mt-4">
                        <div class="col-6">
                            <label class="col-4">
                                <label asp-for="Acudiente.parentesco"></label>
                            </label>
                        </div>
                        <div class="col-6">
                            <input asp-for="Acudiente.parentesco" class="form-control" placeholder="Ingresa el parentesco" />
                            <span asp-validation-for="Acudiente.parentesco" class="text-danger"></span>
                        </div>
                    </div>



                    <div class="form-group row mt-4 m-lg-4">
                        <div class="col">
                            <button type="submit" class="btn btn-primary form-control">Continuar</button>
                        </div>
                        &nbsp;
                        <div class="col">
                            <a asp-action="Registro" class="btn btn-success form-control">Volver</a>
                        </div>
                    </div>

                </div>
            </div>
        </form>
    }


    @*@if (Model.valida == "Brigada")
    {
        <br />
        <br />
        <h3 class="text-center">Brigada a la que pertenece</h3>
        <form method="post" asp-action="Registro" enctype="multipart/form-data">
            <div class="row px-2 offset-1 border">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <p>@ViewBag.msg</p>
                <div class="col-10 offset-1 mt-4">

                    <div class="form-group row mt-4">
                        <div class="col-6">
                            <label class="col-4">
                                <label for="Nombre">Nombre Brigada</label>
                            </label>
                        </div>
                        <div class="col-6">
                            @Html.DropDownListFor(m => m.Brigada.Id, Model.ListaBrigada, "-Seleccione la Brigada-",
                    new {@class = "form-control"})
                        </div>
                    </div>

                    <div class="form-group row mt-4 m-lg-4">
                        <div class="col">
                            <button type="submit" class="btn btn-primary form-control">Continuar</button>
                        </div>
                        &nbsp;
                        <div class="col">
                            <a asp-action="Index" class="btn btn-success form-control">Volver</a>
                        </div>
                    </div>

                </div>
            </div>
        </form>
    }*@

    @if (Model.valida == "Colegio")
    {
        <br />
        <br />
        <h3 class="text-center">Colegio al que pertenece</h3>
        <form method="post" asp-action="Registro" enctype="multipart/form-data" id="miFormulario">
            <div class="row px-2 offset-1 border">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <p>@ViewBag.msg</p>
                <div class="col-10 offset-1 mt-4">

                    <div class="form-group row mt-4">
                        <div class="col-6">
                            <label class="col-4">
                                <label for="Nombre">Nombre del Colegio</label>
                            </label>
                        </div>
                        <div class="col-6">
                            @*@Html.DropDownListFor(m => m.Colegio.Id, Model.ListaColegio, "-Seleccione el Colegio-",
                    new {@class = "form-control"})*@
                            <input type="text" id="colegioInput" class="form-control" placeholder="Escribe el nombre del colegio">
                            <input type="hidden" id="colegioId" name="Colegio.Id">
                        </div>
                    </div>

                    <div class="form-group row mt-4">
                        <div class="col-6">
                            <label class="col-4">
                                <label for="Jornada">Jornada</label>
                            </label>
                        </div>
                        <div class="col-6">
                            @Html.DropDownListFor(m => m.JornadaColegio.Id, Model.ListaJornada, "-Seleccione la Jornada-",
                    new {@class = "form-control"})
                        </div>
                    </div>

                    <div class="form-group row mt-4 m-lg-4">
                        <div class="col">
                            <button type="submit" class="btn btn-primary form-control" id="continuarBtn">Continuar</button>
                        </div>
                        &nbsp;
                        <div class="col">
                            <a asp-action="Index" class="btn btn-success form-control">Volver</a>
                        </div>
                    </div>

                </div>
            </div>
        </form>
    }
}
catch (Exception ex)
{
    Log log = new Log();
    await log.escribirLog("ERROR", ex.ToString(), "Registro.cshtml");
}

@section Scripts{
    <script src="~/js/registro.js"></script>
}



